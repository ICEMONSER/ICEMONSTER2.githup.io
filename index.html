<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LastLink - Data Science Demo</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <!-- Tone.js CDN for sound generation (for UI sound effects) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117; /* Dark background for sci-fi theme */
            color: #e2e8f0; /* Light text color */
        }
        .sci-fi-border {
            border: 2px solid;
            border-image: linear-gradient(to right, #00ffc8, #0080ff) 1; /* Neon gradient border */
            box-shadow: 0 0 15px rgba(0, 255, 200, 0.4), 0 0 15px rgba(0, 128, 255, 0.4);
        }
        .sci-fi-input {
            background-color: #1a202c;
            border: 1px solid #00ffc8;
            color: #e2e8f0;
            border-radius: 8px;
            padding: 0.75rem 1rem;
            outline: none;
            box-shadow: 0 0 5px rgba(0, 255, 200, 0.2);
            transition: all 0.2s ease-in-out;
        }
        .sci-fi-input:focus {
            border-color: #0080ff;
            box-shadow: 0 0 10px rgba(0, 128, 255, 0.6);
        }
        .sci-fi-button {
            background: linear-gradient(135deg, #00ffc8, #0080ff); /* Neon gradient button */
            color: #0d1117; /* Dark text on neon button */
            font-weight: bold;
            border-radius: 8px;
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 0 10px rgba(0, 255, 200, 0.5);
            border: none;
        }
        .sci-fi-button:hover {
            opacity: 0.9;
            box-shadow: 0 0 15px rgba(0, 255, 200, 0.8), 0 0 15px rgba(0, 128, 255, 0.8);
            transform: translateY(-2px);
        }
        .result-box {
            background-color: #1a202c;
            border: 1px solid #0080ff;
            border-radius: 8px;
            padding: 1rem;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-weight: bold;
            color: #00ffc8;
            box-shadow: 0 0 10px rgba(0, 128, 255, 0.4);
        }
        .status-normal { color: #00ffc8; } /* Green */
        .status-anomaly { color: #ff007f; } /* Pink/Red for warning */
        .status-positive { color: #00ffc8; }
        .status-negative { color: #ff007f; }
        .status-neutral { color: #ffe600; } /* Yellow */

        /* Responsive adjustments */
        @media (min-width: 768px) {
            .grid-cols-2-md {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        /* Keyframe animations for radar */
        @keyframes ping-slow {
            0% { transform: scale(0.5); opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }
        .animate-ping-slow { animation: ping-slow 2s cubic-bezier(0, 0, 0.2, 1) infinite; }
        .animate-ping-slow-delay { animation: ping-slow 2s cubic-bezier(0, 0, 0.2, 1) infinite 1s; } /* 1-second delay */
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-4xl mx-auto bg-[#13171e] rounded-xl sci-fi-border p-6 md:p-8 space-y-8">
        <h1 class="text-3xl md:text-4xl font-bold text-center text-[#00ffc8] drop-shadow-lg">
            LASTLINK <span class="text-[#0080ff]">- DATA SCIENCE DEMO</span>
        </h1>
        <p class="text-center text-gray-400 mb-8">
            ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏• Data Science ‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ "LastLink" 
            ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÉ‡∏ô JavaScript
        </p>

        <!-- Background Music Control -->
        <div class="bg-[#1a202c] p-6 rounded-xl sci-fi-border">
            <h2 class="text-2xl font-bold text-[#00ffc8] mb-4">‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á (Background Music)</h2>
            <p class="text-gray-300 mb-3">
                ‡πÉ‡∏™‡πà URL ‡∏Ç‡∏≠‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á MP3/WAV ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á (‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏•‡∏¥‡∏á‡∏Å‡πå YouTube ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á):
            </p>
            <div class="flex flex-col md:flex-row gap-4 mb-4">
                <input type="text" id="bgMusicUrl" placeholder="‡πÉ‡∏™‡πà URL ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà (‡πÄ‡∏ä‡πà‡∏ô .mp3, .wav)" 
                       class="flex-1 sci-fi-input" 
                       value="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"> <!-- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á URL ‡πÄ‡∏û‡∏•‡∏á -->
            </div>
            <div class="flex flex-col md:flex-row items-center gap-4 mb-4">
                <button id="loadAndPlayMusicBtn" class="sci-fi-button flex-1">
                    <span id="playPauseText">‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á</span>
                </button>
                <div class="flex items-center gap-2 flex-1">
                    <label for="volumeSlider" class="text-gray-300 w-16">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á:</label>
                    <input type="range" id="volumeSlider" min="0" max="1" step="0.05" value="0.5" class="flex-1 h-2 rounded-lg appearance-none cursor-pointer bg-gray-700">
                </div>
            </div>
            <p class="text-xs text-gray-500 mt-2">
                * ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏•‡∏¥‡∏á‡∏Å‡πå YouTube ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á‡πÑ‡∏î‡πâ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á MP3/WAV ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
            </p>
        </div>


        <!-- Survivor Radar Section -->
        <div class="bg-[#1a202c] p-6 rounded-xl sci-fi-border">
            <h2 class="text-2xl font-bold text-[#00ffc8] mb-4">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ú‡∏π‡πâ‡∏£‡∏≠‡∏î‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï (Survivor Radar)</h2>
            <div class="relative w-full h-48 md:h-64 bg-black rounded-lg overflow-hidden flex items-center justify-center">
                <img src="https://placehold.co/600x400/0a101d/00ffc8?text=RADAR+SCAN" alt="Radar Scan" class="w-full h-full object-cover opacity-70">
                <div class="absolute inset-0 flex items-center justify-center text-center text-lg md:text-2xl font-mono text-[#00ffc8]">
                    <span class="animate-pulse">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πÅ‡∏Å‡∏ô...</span>
                    <div class="absolute border border-[#00ffc8] rounded-full w-48 h-48 animate-ping-slow"></div>
                    <div class="absolute border border-[#0080ff] rounded-full w-32 h-32 animate-ping-slow-delay"></div>
                </div>
            </div>
            <p class="mt-4 text-sm md:text-base text-gray-300">
                <span class="font-bold text-[#00ffc8]">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</span> ‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ú‡∏π‡πâ‡∏£‡∏≠‡∏î‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÉ‡∏ô‡∏£‡∏±‡∏®‡∏°‡∏µ 2.5 KM üß≠
                <br>
                <span class="font-bold text-[#00ffc8]">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:</span> <span id="survivor-info">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...</span>
            </p>
        </div>

        <!-- Loot Locator Section -->
        <div class="bg-[#1a202c] p-6 rounded-xl sci-fi-border">
            <h2 class="text-2xl font-bold text-[#00ffc8] mb-4">‡∏´‡∏≤‡πÄ‡∏™‡∏ö‡∏µ‡∏¢‡∏á‡πÉ‡∏Å‡∏•‡πâ‡∏â‡∏±‡∏ô (Loot Locator)</h2>
            <p class="text-gray-300 mb-3">‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡πÄ‡∏™‡∏ö‡∏µ‡∏¢‡∏á:</p>
            <div class="flex flex-col md:flex-row gap-4 mb-4">
                <input type="text" id="lootLat" placeholder="Latitude (‡πÄ‡∏ä‡πà‡∏ô 13.7)" class="flex-1 sci-fi-input" value="13.75">
                <input type="text" id="lootLon" placeholder="Longitude (‡πÄ‡∏ä‡πà‡∏ô 100.5)" class="flex-1 sci-fi-input" value="100.50">
                <button id="findLootBtn" class="sci-fi-button">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏™‡∏ö‡∏µ‡∏¢‡∏á</button>
            </div>
            <div id="lootResult" class="result-box">
                ‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏™‡∏ö‡∏µ‡∏¢‡∏á...
            </div>
        </div>

        <!-- Safe Zone Map Section -->
        <div class="bg-[#1a202c] p-6 rounded-xl sci-fi-border">
            <h2 class="text-2xl font-bold text-[#00ffc8] mb-4">‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (Safe Zone Map)</h2>
            <div class="relative w-full h-48 md:h-64 bg-black rounded-lg overflow-hidden flex items-center justify-center">
                <img src="https://placehold.co/600x400/0a101d/00ffc8?text=SAFE+ZONE+MAP" alt="Safe Zone Map" class="w-full h-full object-cover opacity-70">
                <div class="absolute inset-0 flex items-center justify-center text-center text-lg md:text-2xl font-mono text-[#00ffc8]">
                    <span class="text-xl md:text-3xl font-bold">‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏ã‡∏ô‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ üó∫Ô∏è</span>
                </div>
                <div class="absolute top-2 left-2 bg-green-700 bg-opacity-70 text-white text-xs px-2 py-1 rounded-full">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: 2 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</div>
                <div class="absolute bottom-2 right-2 bg-red-700 bg-opacity-70 text-white text-xs px-2 py-1 rounded-full">‡πÇ‡∏ã‡∏ô‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢‡∏™‡∏π‡∏á: 3 ‡∏à‡∏∏‡∏î</div>
            </div>
            <p class="mt-4 text-sm md:text-base text-gray-300">
                <span class="font-bold text-[#00ffc8]">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</span> ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏ñ‡∏ô‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏™‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å
                <br>
                <span class="font-bold text-[#00ffc8]">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:</span> <span id="safe-zone-info">‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢...</span>
            </p>
        </div>

        <!-- Health Status Section -->
        <div class="bg-[#1a202c] p-6 rounded-xl sci-fi-border">
            <h2 class="text-2xl font-bold text-[#00ffc8] mb-4">‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï</h2>
            <p class="text-gray-300 mb-3">‡∏õ‡πâ‡∏≠‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û:</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                <input type="number" id="heartRate" placeholder="Heart Rate (bpm)" class="sci-fi-input" value="75">
                <input type="number" id="temperature" step="0.1" placeholder="Temperature (¬∞C)" class="sci-fi-input" value="36.8">
                <input type="number" id="oxygenLevel" step="0.1" placeholder="Oxygen Level (%)" class="sci-fi-input" value="98.5">
            </div>
            <button id="checkHealthBtn" class="sci-fi-button">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</button>
            <div id="healthResult" class="result-box mt-4">
                ‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö...
            </div>
        </div>

        <!-- Survival Journal Section -->
        <div class="bg-[#1a202c] p-6 rounded-xl sci-fi-border">
            <h2 class="text-2xl font-bold text-[#00ffc8] mb-4">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏≠‡∏≤‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏£‡∏≠‡∏î (Survival Journal)</h2>
            <p class="text-gray-300 mb-3">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö Insight ‡∏à‡∏≤‡∏Å AI:</p>
            <textarea id="journalEntry" rows="4" placeholder="‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏â‡∏±‡∏ô‡πÄ‡∏à‡∏≠..." class="w-full sci-fi-input mb-4 resize-y">
‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏â‡∏±‡∏ô‡πÄ‡∏à‡∏≠‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ô‡πâ‡∏≥‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡πÅ‡∏•‡∏∞‡πÄ‡∏à‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ú‡∏π‡πâ‡∏£‡∏≠‡∏î‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏ô ‡πÄ‡∏£‡∏≤‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô‡πÄ‡∏™‡∏ö‡∏µ‡∏¢‡∏á‡∏Å‡∏±‡∏ô ‡πÅ‡∏ï‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡πá‡πÄ‡∏à‡∏≠‡∏ã‡∏≠‡∏°‡∏ö‡∏µ‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏ï‡∏±‡∏ß ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô
            </textarea>
            <button id="analyzeJournalBtn" class="sci-fi-button">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            <div id="journalResult" class="result-box mt-4">
                ‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå...
            </div>
        </div>

        <p class="text-center text-gray-500 text-sm mt-8">
            ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢ LastLink Data Science Team 2025
        </p>
    </div>

    <script>
        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô AudioContext ‡∏Ç‡∏≠‡∏á Tone.js ‡∏ö‡∏ô User Interaction ‡πÅ‡∏£‡∏Å
        // Tone.js ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ï‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
        let audioContextStarted = false;
        function startAudioContext() {
            if (!audioContextStarted) {
                Tone.start();
                audioContextStarted = true;
                console.log("AudioContext started.");
                startRadarSound(); // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏£‡∏î‡∏≤‡∏£‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠ AudioContext ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
            }
        }
        
        // ‡∏™‡∏£‡πâ‡∏≤‡∏á Synth ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ï‡πà‡∏≤‡∏á‡πÜ (‡πÉ‡∏ä‡πâ Tone.js ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Sound Effects ‡∏Ç‡∏≠‡∏á UI)
        const clickSynth = new Tone.Synth({
            oscillator: { type: "sine" },
            envelope: { attack: 0.005, decay: 0.05, sustain: 0.1, release: 0.2 },
            volume: -10 
        }).toDestination();

        const positiveSynth = new Tone.Synth({
            oscillator: { type: "triangle" },
            envelope: { attack: 0.01, decay: 0.1, sustain: 0.1, release: 0.5 },
            volume: -8
        }).toDestination();

        const negativeSynth = new Tone.Synth({
            oscillator: { type: "sawtooth" },
            envelope: { attack: 0.01, decay: 0.2, sustain: 0.1, release: 0.6 },
            volume: -8
        }).toDestination();
        
        const neutralSynth = new Tone.Synth({
            oscillator: { type: "square" },
            envelope: { attack: 0.01, decay: 0.1, sustain: 0.05, release: 0.3 },
            volume: -10
        }).toDestination();

        // ‡πÄ‡∏™‡∏µ‡∏¢‡∏á Radar (Background effect)
        const radarSynth = new Tone.Synth({
            oscillator: { type: "sine" },
            envelope: { attack: 0.01, decay: 0.05, sustain: 0, release: 0.05 },
            volume: -20 
        }).toDestination();

        let radarLoop;
        function startRadarSound() {
            if (!radarLoop) {
                radarLoop = new Tone.Loop(time => {
                    radarSynth.triggerAttackRelease("C3", "8n", time); 
                }, "1s").start(0); 
            }
        }

        // ‡πÄ‡∏û‡∏¥‡πà‡∏° Event Listener ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏° AudioContext ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Ñ‡∏•‡∏¥‡∏Å
        document.querySelectorAll('.sci-fi-button').forEach(button => {
            button.addEventListener('click', () => {
                startAudioContext(); // ‡πÄ‡∏£‡∏¥‡πà‡∏° AudioContext ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
                clickSynth.triggerAttackRelease("C5", "32n"); // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Ñ‡∏•‡∏¥‡∏Å
            });
        });

        // --- ‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á ---
        const bgMusicUrlInput = document.getElementById('bgMusicUrl');
        const loadAndPlayMusicBtn = document.getElementById('loadAndPlayMusicBtn');
        const playPauseText = document.getElementById('playPauseText');
        const volumeSlider = document.getElementById('volumeSlider');
        let backgroundMusic = null; // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö Element ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á

        function createOrUpdateBackgroundMusic(url) {
            if (backgroundMusic) {
                backgroundMusic.pause();
                backgroundMusic.remove(); // ‡∏•‡∏ö Element ‡πÄ‡∏Å‡πà‡∏≤‡∏≠‡∏≠‡∏Å
                backgroundMusic = null;
            }

            if (url) {
                backgroundMusic = document.createElement('audio');
                backgroundMusic.src = url;
                backgroundMusic.loop = true; // ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ß‡∏ô‡∏ã‡πâ‡∏≥
                backgroundMusic.autoplay = false; // ‡∏à‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏õ‡∏∏‡πà‡∏°
                backgroundMusic.volume = volumeSlider.value; // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
                document.body.appendChild(backgroundMusic); // ‡πÄ‡∏û‡∏¥‡πà‡∏° Element ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô body
            }
        }

        loadAndPlayMusicBtn.addEventListener('click', () => {
            startAudioContext(); // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤ AudioContext ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏•‡πâ‡∏ß
            const url = bgMusicUrlInput.value.trim();
            if (!url) {
                playPauseText.textContent = "‡πÇ‡∏õ‡∏£‡∏î‡πÉ‡∏™‡πà URL ‡πÄ‡∏û‡∏•‡∏á!";
                return;
            }

            if (backgroundMusic && !backgroundMusic.paused) {
                // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏û‡∏•‡∏á‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏¢‡∏π‡πà ‡πÉ‡∏´‡πâ‡∏´‡∏¢‡∏∏‡∏î
                backgroundMusic.pause();
                playPauseText.textContent = "‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á";
            } else {
                // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏û‡∏•‡∏á‡∏´‡∏¢‡∏∏‡∏î‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ ‡πÉ‡∏´‡πâ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡πà‡∏ô
                createOrUpdateBackgroundMusic(url);
                if (backgroundMusic) {
                    backgroundMusic.play().then(() => {
                        playPauseText.textContent = "‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á";
                    }).catch(error => {
                        console.error("Error playing background music:", error);
                        playPauseText.textContent = "‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ! URL ‡∏ú‡∏¥‡∏î?";
                    });
                }
            }
        });

        volumeSlider.addEventListener('input', () => {
            if (backgroundMusic) {
                backgroundMusic.volume = volumeSlider.value;
            }
        });
        // --- ‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á ---


        // ‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á Survivor Radar
        const survivorInfo = document.getElementById('survivor-info');
        const survivorNames = ['‡∏ú‡∏π‡πâ‡∏£‡∏≠‡∏î‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï A (500m ‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å)', '‡∏ú‡∏π‡πâ‡∏£‡∏≠‡∏î‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï B (1.2km ‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠)', '‡∏ú‡∏π‡πâ‡∏£‡∏≠‡∏î‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï C (800m ‡πÉ‡∏ï‡πâ)'];
        let currentSurvivorIndex = 0;
        setInterval(() => {
            survivorInfo.textContent = survivorNames[currentSurvivorIndex];
            currentSurvivorIndex = (currentSurvivorIndex + 1) % survivorNames.length;
        }, 3000); // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏∏‡∏Å 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ

        // ‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á Loot Locator
        document.getElementById('findLootBtn').addEventListener('click', () => {
            const lat = parseFloat(document.getElementById('lootLat').value);
            const lon = parseFloat(document.getElementById('lootLon').value);
            const lootResult = document.getElementById('lootResult');

            if (isNaN(lat) || isNaN(lon)) {
                lootResult.textContent = "‡πÇ‡∏õ‡∏£‡∏î‡∏õ‡πâ‡∏≠‡∏ô‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á";
                lootResult.className = 'result-box status-negative';
                negativeSynth.triggerAttackRelease("G2", "8n"); 
                return;
            }

            const probabilities = [
                "‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏û‡∏ö‡∏ô‡πâ‡∏≥‡∏î‡∏∑‡πà‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î! üíß",
                "‡∏ô‡πà‡∏≤‡∏à‡∏∞‡∏û‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á‡πÉ‡∏ô‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á ü•´",
                "‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏û‡∏ö‡∏¢‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ ü©π",
                "‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÉ‡∏Å‡∏•‡πâ‡πÜ üè†"
            ];
            const randomIndex = Math.floor(Math.random() * probabilities.length);
            lootResult.textContent = probabilities[randomIndex];
            
            if (randomIndex === 0 || randomIndex === 1 || randomIndex === 3) { 
                lootResult.className = 'result-box status-normal';
                positiveSynth.triggerAttackRelease("C5", "8n");
            } else { 
                lootResult.className = 'result-box status-negative';
                negativeSynth.triggerAttackRelease("G2", "8n");
            }
        });

        // ‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á Health Status
        document.getElementById('checkHealthBtn').addEventListener('click', () => {
            const heartRate = parseInt(document.getElementById('heartRate').value);
            const temperature = parseFloat(document.getElementById('temperature').value);
            const oxygenLevel = parseFloat(document.getElementById('oxygenLevel').value);
            const healthResult = document.getElementById('healthResult');

            if (isNaN(heartRate) || isNaN(temperature) || isNaN(oxygenLevel)) {
                healthResult.textContent = "‡πÇ‡∏õ‡∏£‡∏î‡∏õ‡πâ‡∏≠‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á";
                healthResult.className = 'result-box status-negative';
                negativeSynth.triggerAttackRelease("G2", "8n"); 
                return;
            }

            let status = "Normal";
            let className = 'status-normal';

            if (heartRate > 120 || heartRate < 50) {
                status = "Anomaly: ‡∏ä‡∏µ‡∏û‡∏à‡∏£‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥! üö®";
                className = 'status-anomaly';
                negativeSynth.triggerAttackRelease("C3", "4n"); 
            } else if (temperature > 37.5 || temperature < 35.5) {
                status = "Anomaly: ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥! üå°Ô∏è";
                className = 'status-anomaly';
                negativeSynth.triggerAttackRelease("C3", "4n");
            } else if (oxygenLevel < 92) {
                status = "Anomaly: ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏≠‡∏≠‡∏Å‡∏ã‡∏¥‡πÄ‡∏à‡∏ô‡∏ï‡πà‡∏≥! üò∑";
                className = 'status-anomaly';
                negativeSynth.triggerAttackRelease("C3", "4n");
            } else {
                 status = "‡∏õ‡∏Å‡∏ï‡∏¥: ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏î‡∏µ ‚úÖ";
                 className = 'status-normal';
                 positiveSynth.triggerAttackRelease("G4", "8n"); 
            }

            healthResult.textContent = status;
            healthResult.className = 'result-box ' + className;
        });

        // ‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á Survival Journal Analysis
        document.getElementById('analyzeJournalBtn').addEventListener('click', () => {
            const journalEntry = document.getElementById('journalEntry').value;
            const journalResult = document.getElementById('journalResult');

            if (journalEntry.trim() === "") {
                journalResult.textContent = "‡πÇ‡∏õ‡∏£‡∏î‡∏õ‡πâ‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå";
                journalResult.className = 'result-box status-negative';
                negativeSynth.triggerAttackRelease("G2", "8n"); 
                return;
            }

            let sentiment = "neutral";
            let className = 'status-neutral';
            if (journalEntry.toLowerCase().includes("‡∏™‡∏∞‡∏≠‡∏≤‡∏î") || journalEntry.toLowerCase().includes("‡∏î‡∏µ") || journalEntry.toLowerCase().includes("‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠")) {
                sentiment = "Positive: ‡∏°‡∏µ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏µ‡πÜ ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô üòä";
                className = 'status-positive';
                positiveSynth.triggerAttackRelease("C5", "8n");
            } else if (journalEntry.toLowerCase().includes("‡∏ã‡∏≠‡∏°‡∏ö‡∏µ‡πâ") || journalEntry.toLowerCase().includes("‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢") || journalEntry.toLowerCase().includes("‡∏¢‡∏≤‡∏Å") || journalEntry.toLowerCase().includes("‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á")) {
                sentiment = "Negative: ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏∏‡∏õ‡∏™‡∏£‡∏£‡∏Ñ üòî";
                className = 'status-negative';
                negativeSynth.triggerAttackRelease("G2", "8n");
            } else {
                sentiment = "Neutral: ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ü§î";
                className = 'status-neutral';
                neutralSynth.triggerAttackRelease("C4", "8n");
            }

            journalResult.textContent = sentiment;
            journalResult.className = 'result-box ' + className;
        });

        // Initial update for survivor info
        survivorInfo.textContent = survivorNames[currentSurvivorIndex];

    </script>
</body>
</html>
